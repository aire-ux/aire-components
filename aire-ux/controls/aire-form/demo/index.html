<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <style type="text/css">
    html {
      font-size: 100%;
    }
  </style>
</head>
<body>
<div id="demo" style="padding:40px"></div>
<script type="text/javascript" src="../demo/aire.js">

</script>

<script type="module">
  import {html, render} from 'lit-html';

  import '../dist/index.js';

  var themes = {
    bootstrap: {
      installationInstructions: {
        applicableTo: {
          matchingAttributeExistence: ['aire']
        }
      },
      styles: [{
        source: 'remote',
        mode: 'page',
        content: '../dist/themes/bootstrap/aire-form.css'
      }]
    },

    aire: {
      installationInstructions: {
        applicableTo: {
          matchingAttributeExistence: ['aire']
        }
      },
      styles: [{
        source: 'remote',
        mode: 'page',
        content: '../dist/themes/aire/aire-form.css'
      }]
    },
    material: {
      installationInstructions: {
        applicableTo: {
          matchingAttributeExistence: ['aire']
        }
      },
      styles: [{
        source: 'remote',
        mode: 'page',
        content: '../dist/themes/material/aire-form.css'
      }],
    }
  }

  window.addEventListener('DOMContentLoaded', function () {
    setTimeout(function () {
      Aire.ThemeManager.installTheme(currentTheme());
    }, 100);
  });

  function setCurrentTheme(theme) {
    const urlParms = new URLSearchParams(window.location.search);
    urlParms.set('theme', theme);
    window.location.search = urlParms;
  }

  function currentTheme() {
    const urlParms = new URLSearchParams(window.location.search);
    return themes[urlParms.get('theme')];
  }

  function setBootstrap() {
    setCurrentTheme('bootstrap');
    Aire.ThemeManager.installTheme(currentTheme());
  }

  function setMaterial() {
    setCurrentTheme('material');
    Aire.ThemeManager.installTheme(currentTheme());
  }


  function setAire() {
    setCurrentTheme('aire');
    Aire.ThemeManager.installTheme(currentTheme());
  }

  render(
      html`
        <div margin="40px">
          <aire-form></aire-form>
        </div>
      `,
      document.querySelector('#demo')
  );

</script>
</body>
</html>
